// Generated by CoffeeScript 1.9.3
(function() {
  var Classify;

  Classify = (function() {
    function Classify() {
      this.pageContainer = $(".classify--page--container");
      this.classifyButton = this.pageContainer.find(".classify--button");
      this.lyricsTextArea = this.pageContainer.find(".lyrics--text--area");
      this.classifyButton.on("click", this._classifyClicked.bind(this));
      console.log(">>> @classifyButton = ", this.classifyButton);
      console.log(">>> @lyricsTextArea = ", this.lyricsTextArea);
    }

    Classify.prototype._classifyClicked = function(e) {
      var dataForPosting, lyrics, url;
      console.log("> > > _classifyClicked");
      url = "/get_genre";
      lyrics = this.lyricsTextArea.val();
      dataForPosting = {
        lyrics: lyrics
      };
      return AjaxUtils.sendAjax('POST', url, this, this._genreLoaded, this._genreLoadingError, dataForPosting, null);
    };

    Classify.prototype._genreLoaded = function(data, onTheFlyData) {
      return console.log("Genre loaded: ", data);
    };

    Classify.prototype._genreLoadingError = function(errorCode, errorMessage) {
      console.log("Error while classifying lyrics");
      console.log(errorMessage);
      return console.log(errorCode);
    };

    return Classify;

  })();

  $(function() {
    return new Classify();
  });

}).call(this);
